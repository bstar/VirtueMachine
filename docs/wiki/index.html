<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>VirtueMachine Wiki</title>
  <link rel="stylesheet" href="./wiki.css" />
</head>
<body>
  <div class="app">
    <aside class="sidebar">
      <div class="brand">
        <h1><a href="#page=README.md">VirtueMachine Wiki</a></h1>
        <p>Deep architecture and parity internals</p>
      </div>
      <nav>
        <ul id="page-list"></ul>
      </nav>
    </aside>

    <main class="content">
      <header class="topbar">
        <input id="search" type="search" placeholder="Filter pages..." aria-label="Filter wiki pages" />
        <a class="home-link" href="#page=README.md">Wiki Home</a>
        <a class="source-link" id="source-link" href="#" target="_blank" rel="noopener">Open Source</a>
      </header>
      <article id="doc" class="doc"></article>
    </main>

    <aside class="reference-panel">
      <div class="reference-panel__header">
        <h2>Reference Atlas</h2>
        <p>Canonical terms, visual signatures, and gameplay impact</p>
      </div>
      <label class="reference-search-wrap">
        <span>Find Term</span>
        <input id="reference-search" type="search" placeholder="Search terms, aliases, symptoms..." aria-label="Search reference terms" />
      </label>
      <section class="reference-focus">
        <h3>Focused Term</h3>
        <div id="reference-focus-card" class="reference-empty">Click a term link in docs or choose one below.</div>
      </section>
      <section class="reference-all">
        <h3>All Terms</h3>
        <div id="reference-list"></div>
      </section>
    </aside>
  </div>

  <div id="code-overlay" class="code-overlay hidden" aria-hidden="true">
    <div id="code-overlay-backdrop" class="code-overlay__backdrop"></div>
    <section class="code-overlay__panel" role="dialog" aria-modal="true" aria-labelledby="code-overlay-title">
      <header class="code-overlay__header">
        <h2 id="code-overlay-title">Code Viewer</h2>
        <div class="code-overlay__path" id="code-overlay-path"></div>
        <button id="code-overlay-close" class="code-overlay__close" type="button" aria-label="Close code viewer">Close</button>
      </header>
      <pre class="code-overlay__pre"><code id="code-overlay-code"></code></pre>
    </section>
  </div>

  <script type="module" src="./wiki.ts"></script>
</body>
</html>
